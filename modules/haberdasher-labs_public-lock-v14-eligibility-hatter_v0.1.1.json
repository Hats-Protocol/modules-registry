{
  "id": "haberdasher-labs_public-lock-v14-eligibility-hatter",
  "version": "v0.1.1",
  "name": "Subscription Eligibility (Unlock Protocol V14)",
  "details": [
    "This module adds a subscription requirement to a hat. Wearers must make a recurring payment to keep the hat.",
    "This module is powered by Unlock Protocol. Deploying this module will also create a new lock contract (Public Lock version 14), and will automatically mint a hat to the recipient of a newly purchased key. The wearer will remain eligible as long as their subscription is active.",
    "To work properly, this module must be set as the eligibility module for the target hat and wear one of the target hat's admin hats."
  ],
  "links": [
    {
      "label": "GitHub",
      "link": "https://github.com/Hats-Protocol/unlock-eligibility"
    }
  ],
  "parameters": [
    {
      "label": "Referrer",
      "functionName": "REFERRER",
      "displayType": "address"
    },
    {
      "label": "Referrer Fee Percentage",
      "functionName": "referrerFeePercentage",
      "displayType": "uint256"
    },
    {
      "label": "Lock Contract",
      "functionName": "lock",
      "displayType": "address"
    },
    {
      "label": "Price",
      "functionName": "keyPurchasePrice",
      "displayType": "amountWithDecimals"
    },
    {
      "label": "Token",
      "functionName": "keyPurchaseToken",
      "displayType": "token"
    },
    {
      "label": "Renewal Period",
      "functionName": "expirationDuration",
      "displayType": "seconds"
    },
    {
      "label": "Max Purchasers",
      "functionName": "maxNumberOfKeys",
      "displayType": "default"
    }
  ],
  "type": {
    "eligibility": true,
    "toggle": false,
    "hatter": true
  },
  "tags": [],
  "implementationAddress": "0x24C2EAb36d41324688475e25Bbe37559615874bE",
  "deployments": [
    {
      "chainId": "11155111",
      "block": "6686244"
    }
  ],
  "creationArgs": {
    "useHatId": true,
    "immutable": [],
    "mutable": [
      {
        "name": "Subscription Period",
        "description": "How often a payment must be made to keep the hat",
        "type": "uint256",
        "example": "2592000",
        "displayType": "seconds"
      },
      {
        "name": "Payment Token",
        "description": "The token used to make payments",
        "type": "address",
        "example": "0xb16f35c0ae2912430dac15764477e179d9b9ebea",
        "displayType": "token"
      },
      {
        "name": "Subscription Price",
        "description": "The price of a payment for a single subscription period",
        "type": "uint256",
        "example": "5000000000000000000",
        "displayType": "amountWithDecimals"
      },
      {
        "name": "Max Subscribers",
        "description": "The maximum number of addresses that can pay for this hat. Suggested greater than or equal to the max wearers for this hat.",
        "type": "uint256",
        "example": "100",
        "displayType": "default"
      },
      {
        "name": "Lock Manager",
        "description": "The manager of the lock contract, who can modify many of the lock's settings.",
        "type": "address",
        "example": "0x1d256A1154382921067d4B17CA52209f2d3bE106",
        "displayType": "address"
      },
      {
        "name": "Lock Name",
        "description": "The name of the lock NFT. Suggested to include the name of this hat.",
        "type": "string",
        "example": "My Hat Lock",
        "displayType": "default"
      }
    ]
  },
  "customRoles": [],
  "writeFunctions": [],
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        {
          "name": "_version",
          "type": "string",
          "internalType": "string"
        },
        {
          "name": "_unlock",
          "type": "address",
          "internalType": "contract IUnlock"
        },
        {
          "name": "_referrer",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "__referrerFeePercentage",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "HATS",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IHats"
        }
      ],
      "stateMutability": "pure"
    },
    {
      "type": "function",
      "name": "IMPLEMENTATION",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "pure"
    },
    {
      "type": "function",
      "name": "LOCK_VERSION",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint16",
          "internalType": "uint16"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "REFERRER",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "expirationDuration",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getWearerStatus",
      "inputs": [
        {
          "name": "_wearer",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "eligible",
          "type": "bool",
          "internalType": "bool"
        },
        {
          "name": "standing",
          "type": "bool",
          "internalType": "bool"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "hatId",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "pure"
    },
    {
      "type": "function",
      "name": "implementationReferrerFeePercentage",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "keyPurchasePrice",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "keyPurchasePrice",
      "inputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "bytes",
          "internalType": "bytes"
        }
      ],
      "outputs": [
        {
          "name": "minKeyPrice",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "keyPurchaseToken",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "lock",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IPublicLock"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "maxNumberOfKeys",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "onKeyPurchase",
      "inputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "recipient",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "bytes",
          "internalType": "bytes"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "onKeyTransfer",
      "inputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [],
      "stateMutability": "pure"
    },
    {
      "type": "function",
      "name": "referrerFeePercentage",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "setImplementationReferrerFeePercentage",
      "inputs": [
        {
          "name": "_referrerFeePercentage",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "setUp",
      "inputs": [
        {
          "name": "_initData",
          "type": "bytes",
          "internalType": "bytes"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "unlock",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IUnlock"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "unlock_",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IUnlock"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "version",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "string",
          "internalType": "string"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "version_",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "string",
          "internalType": "string"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "event",
      "name": "ImplementationReferrerFeePercentageSet",
      "inputs": [
        {
          "name": "referrerFeePercentage",
          "type": "uint256",
          "indexed": false,
          "internalType": "uint256"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "Initialized",
      "inputs": [
        {
          "name": "version",
          "type": "uint8",
          "indexed": false,
          "internalType": "uint8"
        }
      ],
      "anonymous": false
    },
    {
      "type": "error",
      "name": "HatMintFailed",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidReferrerFee",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotLock",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotReferrer",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotTransferable",
      "inputs": []
    },
    {
      "type": "error",
      "name": "UnsupportedNetwork",
      "inputs": []
    }
  ]
}
